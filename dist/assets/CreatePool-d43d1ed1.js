import{d as _}from"./dispatchWrapper-73a745a2.js";import{_ as b,o as i,c as u,a as t,h as r,f as l,l as h,k as x,j as c,v as d,F as y}from"./main-c0620d5f.js";const f={props:["account"],data(){return{baseAmount:"",baseDenom:"",dysAmount:"",error:"",txResult:null}},computed:{address:function(){var n;return(n=this.account)==null?void 0:n.bech32Address},coins:function(){return this.baseAmount+" "+this.baseDenom+" , "+this.dysAmount+" dys"}},methods:{async createPool(){this.txResult=null,this.error=null,console.log("createPool");let n="dyson/sendMsgRun",e={value:{creator:this.address,address:"whaleswap.dys",function_name:"create_pool",coins:this.coins},fee:[{amount:"223",denom:"dys"}],gas:"2230000"};try{console.log(e),this.txResult=await _(n,e),this.baseAmount="",this.baseDenom="",this.dysAmount="",console.log(this.txResult)}catch(a){console.log(a.toString()),this.error=a.toString()}}}},w={key:0,class:"alert alert-success mx-auto my-4 w-1/2"},v=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),g=t("br",null,null,-1),A=t("br",null,null,-1),k={class:"card w-3/12 bg-base-200 m-auto"},D={class:"card-body items-center text-center"},R=t("h2",{class:"card-title"},"Create Pool",-1),P={class:"form-control w-full max-w-xs"},B=t("label",{class:"label"},[t("span",{class:"label-text"},"Base Amount")],-1),V={class:"form-control w-full max-w-xs"},j=t("label",{class:"label"},[t("span",{class:"label-text"},"Base Denom")],-1),S={class:"form-control w-full max-w-xs"},M=t("label",{class:"label"},[t("span",{class:"label-text"},"Quote Amount in DYS")],-1),N={key:0,class:"text-red-500"},C=t("div",{class:"card-actions"},[t("input",{class:"btn btn-primary",type:"submit"})],-1);function T(n,e,a,U,s,m){var p;return i(),u(y,null,[(p=s.txResult)!=null&&p.result?(i(),u("div",w,[v,t("p",null,[r(" New pool created: Pool ID "+l(s.txResult.result.pool_id),1),g,r(" You received liquidity shares: "+l(s.txResult.result.total_shares)+" "+l(s.txResult.result.shares_denom)+"! ",1),A,r(" Transaction Hash: "+l(s.txResult.transactionHash),1)])])):h("",!0),t("div",k,[t("form",{onSubmit:e[3]||(e[3]=x((...o)=>m.createPool&&m.createPool(...o),["prevent"]))},[t("div",D,[R,t("div",P,[B,c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.baseAmount=o),type:"text",class:"input input-bordered join-item input-primary"},null,512),[[d,s.baseAmount]])]),t("div",V,[j,c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.baseDenom=o),type:"text",class:"input input-bordered join-item input-primary"},null,512),[[d,s.baseDenom]])]),r(" = "),t("div",S,[M,c(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.dysAmount=o),type:"text",class:"input input-bordered join-item input-primary"},null,512),[[d,s.dysAmount]])]),s.error?(i(),u("div",N,"Error: "+l(s.error),1)):h("",!0),C])],32)])],64)}const H=b(f,[["render",T]]);export{H as default};

import{_ as p,d as _,o as i,c,a as s,t as n,f as h,e as b,w as d,v as u,b as y,n as x}from"./main-8acca22c.js";const v={props:["account"],data(){return{baseAmount:"",baseDenom:"",dysAmount:"",error:"",txResult:null,bgUrl:new URL("/assets/create-bg-1127111c.jpg",self.location).href}},computed:{address:function(){var l;return(l=this.account)==null?void 0:l.bech32Address},coins:function(){return this.baseAmount+" "+this.baseDenom+" , "+this.dysAmount+" dys"}},methods:{async createPool(){this.txResult=null,this.error=null,console.log("createPool");let l="dyson/sendMsgRun",t={value:{creator:this.address,address:"whaleswap.dys",function_name:"create_pool",coins:this.coins},fee:[{amount:"223",denom:"dys"}],gas:"2230000"};try{console.log(t),this.txResult=await _(l,t),this.baseAmount="",this.baseDenom="",this.dysAmount="",console.log(this.txResult)}catch(r){console.log(r.toString()),this.error=r.toString()}}}},f=s("div",{class:"hero-overlay bg-opacity-50"},null,-1),g={class:"hero-content text-center"},w={class:"py-10 lg:pl-72"},A={class:"px-4 sm:px-6 lg:px-8"},R={class:"max-w-md"},k={key:0,class:"alert alert-success mx-auto my-4 w-1/2"},D=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),P={class:"card md:w-96 bg-base-200 m-auto"},B={class:"card-body items-center text-center"},S=s("h2",{class:"card-title"},"Create Pool",-1),U={class:"form-control w-full"},V=s("label",{class:"label"},[s("span",{class:"label-text"},"Base Amount")],-1),j={class:"form-control w-full"},C=s("label",{class:"label"},[s("span",{class:"label-text"},"Base Denom")],-1),M={class:"form-control w-full"},N=s("label",{class:"label"},[s("span",{class:"label-text"},"Quote Amount in DYS")],-1),T={key:0,class:"text-red-500"},z={class:"card-actions"},E=["disabled"];function I(l,t,r,Y,e,a){var m;return i(),c("div",{class:"hero min-h-screen",style:x({backgroundImage:`url(${e.bgUrl})`})},[f,s("div",g,[s("div",w,[s("div",A,[s("div",R,[(m=e.txResult)!=null&&m.result?(i(),c("div",k,[D,s("p",null," Congratulations! A new pool has been successfully created with Pool ID "+n(e.txResult.result.pool_id)+". You have received "+n(e.txResult.result.total_shares)+" "+n(e.txResult.result.shares_denom)+" liquidity shares. The transaction hash is "+n(e.txResult.transactionHash)+". ",1)])):h("",!0),s("div",P,[s("form",{onSubmit:t[3]||(t[3]=b((...o)=>a.createPool&&a.createPool(...o),["prevent"]))},[s("div",B,[S,s("div",U,[V,d(s("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>e.baseAmount=o),type:"text",class:"input input-bordered join-item input-primary"},null,512),[[u,e.baseAmount]])]),s("div",j,[C,d(s("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>e.baseDenom=o),type:"text",class:"input input-bordered join-item input-primary"},null,512),[[u,e.baseDenom]])]),y(" = "),s("div",M,[N,d(s("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>e.dysAmount=o),type:"text",class:"input input-bordered join-item input-primary"},null,512),[[u,e.dysAmount]])]),e.error?(i(),c("div",T,"Error: "+n(e.error),1)):h("",!0),s("div",z,[s("button",{class:"btn btn-primary",disabled:!a.address,type:"submit"}," Create Pool ",8,E)])])],32)])])])])])],4)}const H=p(v,[["render",I]]);export{H as default};
